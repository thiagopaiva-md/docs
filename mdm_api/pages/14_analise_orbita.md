# 14 - Análise de órbita

**Objetivo:** Publicar na MDM API os dados da análise de órbita

## Entrada

**Nome da operação:** core_getOrbitAnalysis

**Parâmetros de entrada:**

Nome                     |  Tipo           | Opcional     | Descrição
:-----------------------:|:---------------:|:------------:|:------------
databaseAlias            | string         | Não           | O alias da base de dados utilizada no momento da chamada.
operation                | string         | Não           | core_getOrbitAnalysis
type                     | string         | Não           | Valores válidos:<br/> record / reference 
monitoredPointIds        | string[]       | Não           | Os Ids dos pontos monitorados que serão incluídos na análise.
recordOrReferenceIds     | string[]       | Não           | O ids de registros ou referências que serão incluídos na análise.

**JSON de exemplo - parâmetros de entrada**

```
{
  "databaseAlias": "ILS",
  "operation": 'core_getOrbitAnalysis',
  "type": 'record',
  "monitoredPointIds": ['{86A231E5-6DC6-4217-A85F-A89E8AE398BD}'],
  "recordOrReferenceIds": ['{17071861-5B7B-3A47-BCC8-71F7D21AF145}'],
}
```

## Saída

**Descrição dos parâmetros de saída em caso de sucesso, presentes no array de objetos "content":**

**Atenção:** A tabela abaixo descreve cada um dos objetos presentes no array.

Nome                           |  Tipo           | Descrição
:-----------------------------:|:---------------:|:-------------
groupedSignals                 | object[]        | Sinais da análise agrupados por pontos monitorados
operationPoints                | object[]        | Os pontos de operação do equipamento

Descrição do Array "grupedSignals":

Nome                     |  Tipo           | Descrição
:-----------------------:|:---------------:|:-------------
mpId                     | string          | Id do Ponto Monitorado
mpName                   | string          | Nome do Ponto Monitorado
recOrRefId               | string          | Id do registro / referência
recOrRefDateTime         | string          | Data/Hora do registro / referência
idSignalRecorded         | string          | Id do sinal gravado
signals                  | object[]        | O array gerado com valores x e y para plotagem
operationPoints          | object[]        | Os pontos de operação do registro ou referência

Descrição do array "operationPoints":
Nome                     |  Tipo           | Descrição
:-----------------------:|:---------------:|:-------------
id                       | string          | Id do Ponto de operação
value                    | string          | Valor do ponto de operação

Descrição do array "operationPoints":

Nome                     |  Tipo           | Descrição
:-----------------------:|:---------------:|:-------------
id                       | string          | Id do ponto de operação, deve ser correlacionado com os pontos de operação<br/> do array groupedSignals.operationPoints
idMonitoredPoint         | string          | Id do ponto monitorado do ponto de operação
name                     | name            | Nome do ponto monitorado do ponto de operação

## Saída - JSON exemplo
```
{
  "status": 200,
  "content": {
    "groupedSignals": [
      {
        "mpId": "{86A231E5-6DC6-4217-A85F-A89E8AE398BD}",
        "mpName": "SD-MGI-HM",
        "recOrRefId": "{17071861-5B7B-3A47-BCC8-71F7D21AF145}",
        "recOrRefDateTime": "2022-06-03T09:23:51.000Z",
        "idSignalRecorded": "{A4C5672E-8DE1-3843-AFCB-26E9B02CB6F1}",
        "signals": [
          { "x": 1840.5794677734386, "y": 1428.8343505859386 },
          { "x": 1840.5983886718761, "y": 1432.9870605468761 },
          { "x": 1843.4512939453136, "y": 1439.1026611328136 },
          { "x": 1838.9317626953136, "y": 1445.8328857421886 },
          { "x": 1841.0222167968761, "y": 1445.5780029296886 },
          { "x": 1840.6538085937511, "y": 1443.7044677734386 },
          { "x": 1843.0285644531261, "y": 1445.8243408203136 },
          { "x": 1844.5351562500011, "y": 1447.7288818359386 },
          { "x": 1845.0911865234386, "y": 1452.6530761718761 },
          { "x": 1846.8605957031261, "y": 1454.1843261718761 },
          { "x": 1841.0667724609386, "y": 1451.6888427734386 },
          { "x": 1844.0949707031261, "y": 1462.2108154296886 },
          { "x": 1845.7142333984386, "y": 1456.5986328125011 },
          { "x": 1841.9068603515636, "y": 1465.7653808593761 },
          { "x": 1840.5294189453136, "y": 1467.5220947265636 },
          { "x": 1844.5485839843761, "y": 1468.9909667968761 },
          { "x": 1840.6077880859386, "y": 1477.4656982421886 },
          { "x": 1843.4172363281261, "y": 1474.1885986328136 },
          { "x": 1854.7546386718761, "y": 1481.3533935546886 },
          { "x": 1874.5346679687511, "y": 1482.2662353515636 },
          { "x": 1891.0262451171886, "y": 1489.7331542968761 },
          { "x": 1882.2133789062511, "y": 1486.8846435546886 },
          { "x": 1879.4836425781261, "y": 1487.5616455078136 },
          { "x": 1875.1752929687511, "y": 1488.1971435546886 },
          { "x": 1872.7010498046886, "y": 1501.4797363281261 },
          { "x": 1866.8323974609386, "y": 1501.8472900390636 },
          { "x": 1861.5316162109386, "y": 1501.9405517578136 },
          { "x": 1865.3320312500011, "y": 1503.5926513671886 },
          { "x": 1856.1624755859386, "y": 1504.5895996093761 },
          { "x": 1852.6385498046886, "y": 1520.2906494140636 },
          { "x": 1841.1372070312511, "y": 1518.3576660156261 },
          { "x": 1840.4667968750011, "y": 1515.1831054687511 },
          { "x": 1863.2437744140636, "y": 1516.9666748046886 },
          { "x": 1853.4249267578136, "y": 1522.9256591796886 },
          { "x": 1849.2502441406261, "y": 1526.6956787109386 },
          { "x": 1847.3060302734386, "y": 1527.2843017578136 },
          { "x": 1836.5394287109386, "y": 1535.9208984375011 },
          { "x": 1832.0093994140636, "y": 1535.6861572265636 },
          { "x": 1826.0502929687511, "y": 1530.9293212890636 },
          { "x": 1831.2067871093761, "y": 1535.2092285156261 },
          { "x": 1827.9837646484386, "y": 1537.8378906250011 },
          { "x": 1823.2856445312511, "y": 1549.3931884765636 },
          { "x": 1821.1677246093761, "y": 1551.0251464843761 },
          { "x": 1790.2486572265636, "y": 1544.8527832031261 },
          { "x": 1783.9906005859386, "y": 1543.6777343750011 },
          { "x": 1780.3861083984386, "y": 1541.7689208984386 },
          { "x": 1776.7500000000011, "y": 1550.6478271484386 },
          { "x": 1769.1423339843761, "y": 1550.6177978515636 },
          { "x": 1768.7945556640636, "y": 1544.8927001953136 },
          { "x": 1769.5959472656261, "y": 1542.3276367187511 },
          { "x": 1768.8293457031261, "y": 1542.5037841796886 },
          { "x": 1762.3144531250011, "y": 1545.9107666015636 },
          { "x": 1758.5321044921886, "y": 1547.6844482421886 },
          { "x": 1755.7829589843761, "y": 1550.4040527343761 },
          { "x": 1751.0648193359386, "y": 1541.0001220703136 },
          { "x": 1747.7677001953136, "y": 1539.3487548828136 },
          { "x": 1746.4848632812511, "y": 1546.3575439453136 },
          { "x": 1743.9737548828136, "y": 1547.6929931640636 },
          { "x": 1738.3442382812511, "y": 1547.9179687500011 },
          { "x": 1738.7542724609386, "y": 1541.4338378906261 },
          { "x": 1735.4356689453136, "y": 1542.5424804687511 },
          { "x": 1728.5296630859386, "y": 1540.1804199218761 },
          { "x": 1727.8605957031261, "y": 1554.1892089843761 },
          { "x": 1723.3618164062511, "y": 1573.9171142578136 },
          { "x": 1720.5832519531261, "y": 1594.6983642578136 },
          { "x": 1716.5410156250011, "y": 1587.4991455078136 },
          { "x": 1719.5704345703136, "y": 1575.9099121093761 },
          { "x": 1721.3620605468761, "y": 1575.8620605468761 },
          { "x": 1719.1503906250011, "y": 1580.7850341796886 },
          { "x": 1715.9592285156261, "y": 1577.2067871093761 },
          { "x": 1710.2392578125011, "y": 1558.7067871093761 },
          { "x": 1706.7624511718761, "y": 1558.3789062500011 },
          { "x": 1712.8680419921886, "y": 1556.0074462890636 },
          { "x": 1706.7998046875011, "y": 1549.4005126953136 },
          { "x": 1705.4516601562511, "y": 1550.9824218750011 },
          { "x": 1703.5336914062511, "y": 1531.7938232421886 },
          { "x": 1699.6915283203136, "y": 1544.2937011718761 },
          { "x": 1697.3393554687511, "y": 1536.7445068359386 },
          { "x": 1703.4412841796886, "y": 1533.0166015625011 },
          { "x": 1701.9033203125011, "y": 1532.7158203125011 },
          { "x": 1702.2457275390636, "y": 1529.7482910156261 },
          { "x": 1698.0996093750011, "y": 1517.5552978515636 },
          { "x": 1695.3618164062511, "y": 1510.1191406250011 },
          { "x": 1697.4837646484386, "y": 1507.8082275390636 },
          { "x": 1695.3448486328136, "y": 1513.6428222656261 },
          { "x": 1690.4703369140636, "y": 1508.5477294921886 },
          { "x": 1683.3737792968761, "y": 1506.1882324218761 },
          { "x": 1684.3829345703136, "y": 1486.9356689453136 },
          { "x": 1681.0153808593761, "y": 1459.9514160156261 },
          { "x": 1688.0249023437511, "y": 1464.1965332031261 },
          { "x": 1684.5567626953136, "y": 1462.2694091796886 },
          { "x": 1681.9272460937511, "y": 1456.1955566406261 },
          { "x": 1679.3725585937511, "y": 1450.1999511718761 },
          { "x": 1687.3718261718761, "y": 1447.6143798828136 },
          { "x": 1683.9588623046886, "y": 1449.9184570312511 },
          { "x": 1683.5876464843761, "y": 1450.5336914062511 },
          { "x": 1682.5692138671886, "y": 1448.6390380859386 },
          { "x": 1680.9989013671886, "y": 1445.9658203125011 },
          { "x": 1679.8830566406261, "y": 1440.4392089843761 },
          { "x": 1678.7440185546886, "y": 1431.0009765625011 },
          { "x": 1684.5893554687511, "y": 1433.2976074218761 },
          { "x": 1684.0651855468761, "y": 1437.0810546875011 },
          { "x": 1683.3339843750011, "y": 1432.7349853515636 },
          { "x": 1684.9531250000011, "y": 1428.7069091796886 },
          { "x": 1683.9089355468761, "y": 1425.6516113281261 },
          { "x": 1680.2342529296886, "y": 1420.1271972656261 },
          { "x": 1680.6951904296886, "y": 1421.1258544921886 },
          { "x": 1681.6485595703136, "y": 1423.0839843750011 },
          { "x": 1682.5380859375011, "y": 1417.9407958984386 },
          { "x": 1681.9477539062511, "y": 1411.8376464843761 },
          { "x": 1682.4329833984386, "y": 1409.2358398437511 },
          { "x": 1692.5494384765636, "y": 1416.8620605468761 },
          { "x": 1701.8852539062511, "y": 1417.9837646484386 },
          { "x": 1685.0703125000011, "y": 1416.8739013671886 },
          { "x": 1691.4691162109386, "y": 1408.6290283203136 },
          { "x": 1690.7836914062511, "y": 1401.2163085937511 },
          { "x": 1694.4460449218761, "y": 1403.9068603515636 },
          { "x": 1696.3675537109386, "y": 1411.2724609375011 },
          { "x": 1695.1879882812511, "y": 1408.2156982421886 },
          { "x": 1696.3591308593761, "y": 1403.0814208984386 },
          { "x": 1694.2944335937511, "y": 1394.6717529296886 },
          { "x": 1696.2349853515636, "y": 1394.3070068359386 },
          { "x": 1701.7473144531261, "y": 1402.8775634765636 },
          { "x": 1702.1496582031261, "y": 1405.5345458984386 },
          { "x": 1702.1363525390636, "y": 1402.8096923828136 },
          { "x": 1705.7668457031261, "y": 1396.7866210937511 },
          { "x": 1707.0920410156261, "y": 1392.8927001953136 },
          { "x": 1711.0369873046886, "y": 1402.7922363281261 },
          { "x": 1709.6628417968761, "y": 1401.4138183593761 },
          { "x": 1712.9685058593761, "y": 1399.1231689453136 },
          { "x": 1710.8911132812511, "y": 1385.4108886718761 },
          { "x": 1720.8684082031261, "y": 1384.3654785156261 },
          { "x": 1720.8625488281261, "y": 1384.8704833984386 },
          { "x": 1728.2677001953136, "y": 1390.3824462890636 },
          { "x": 1727.7872314453136, "y": 1393.9107666015636 },
          { "x": 1730.7844238281261, "y": 1384.4050292968761 },
          { "x": 1734.6036376953136, "y": 1381.2830810546886 },
          { "x": 1736.1739501953136, "y": 1383.2575683593761 },
          { "x": 1741.3851318359386, "y": 1390.8242187500011 },
          { "x": 1743.1965332031261, "y": 1384.6081542968761 },
          { "x": 1748.5323486328136, "y": 1385.4395751953136 },
          { "x": 1752.5368652343761, "y": 1377.8927001953136 },
          { "x": 1753.0877685546886, "y": 1379.7687988281261 },
          { "x": 1751.5639648437511, "y": 1378.3604736328136 },
          { "x": 1753.6546630859386, "y": 1383.4284667968761 },
          { "x": 1758.1802978515636, "y": 1382.1279296875011 },
          { "x": 1771.6912841796886, "y": 1378.9552001953136 },
          { "x": 1766.0667724609386, "y": 1378.8272705078136 },
          { "x": 1771.5451660156261, "y": 1381.2210693359386 },
          { "x": 1770.5822753906261, "y": 1379.4536132812511 },
          { "x": 1777.1879882812511, "y": 1376.7956542968761 },
          { "x": 1790.1036376953136, "y": 1375.1064453125011 },
          { "x": 1789.5991210937511, "y": 1376.2856445312511 },
          { "x": 1793.6635742187511, "y": 1377.6323242187511 },
          { "x": 1793.8288574218761, "y": 1376.2504882812511 },
          { "x": 1801.4697265625011, "y": 1380.5744628906261 },
          { "x": 1803.1281738281261, "y": 1395.4815673828136 },
          { "x": 1802.0864257812511, "y": 1381.7178955078136 },
          { "x": 1806.5633544921886, "y": 1382.8394775390636 },
          { "x": 1817.1140136718761, "y": 1386.9599609375011 },
          { "x": 1815.1788330078136, "y": 1386.5145263671886 },
          { "x": 1816.2795410156261, "y": 1388.6540527343761 },
          { "x": 1818.0550537109386, "y": 1390.8822021484386 },
          { "x": 1822.0509033203136, "y": 1393.6618652343761 },
          { "x": 1831.8664550781261, "y": 1393.1417236328136 },
          { "x": 1828.5465087890636, "y": 1389.5607910156261 },
          { "x": 1825.7746582031261, "y": 1393.9700927734386 },
          { "x": 1832.1367187500011, "y": 1398.1782226562511 },
          { "x": 1836.5734863281261, "y": 1398.3011474609386 },
          { "x": 1839.8532714843761, "y": 1401.1333007812511 },
          { "x": 1837.3132324218761, "y": 1399.3233642578136 },
          { "x": 1845.5280761718761, "y": 1400.9929199218761 },
          { "x": 1843.4589843750011, "y": 1398.8616943359386 },
          { "x": 1841.0701904296886, "y": 1404.6135253906261 },
          { "x": 1843.8736572265636, "y": 1403.5098876953136 },
          { "x": 1843.5036621093761, "y": 1408.8967285156261 },
          { "x": 1852.3509521484386, "y": 1410.4678955078136 },
          { "x": 1851.4500732421886, "y": 1410.5124511718761 },
          { "x": 1848.1582031250011, "y": 1416.2825927734386 }
        ],
        "operationPoints": [
          {
            "id": "{17028BB6-CD31-44C9-AD73-BE19DE1E753A}",
            "value": 47.399993896484375
          },
          { "id": "{251ADCF7-472A-4B0B-A08D-060374971CF6}", "value": -4 }
        ]
      }
    ],
    "operationPoints": [
      {
        "id": "{17028BB6-CD31-44C9-AD73-BE19DE1E753A}",
        "idMonitoredPoint": "{BC59488A-89CC-43D7-A78B-746F9B6D3343}",
        "name": "TN-UG-QUEDA_SDSC"
      },
      {
        "id": "{251ADCF7-472A-4B0B-A08D-060374971CF6}",
        "idMonitoredPoint": "{DA92A0BB-E5D9-4208-917C-C854EF84D615}",
        "name": "TE-POT_AT_SDSC"
      }
    ]
  }
}

```
